<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Fast Fuzzy String Joins for Data Frames • fuzzystring</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Fast Fuzzy String Joins for Data Frames">
<meta name="description" content="Perform fuzzy joins on data frames using approximate string matching. Implements all standard join types (inner, left, right, full, semi, anti) with support for multiple string distance metrics from the stringdist package including Levenshtein, Damerau-Levenshtein, Jaro-Winkler, and Soundex. Features a high-performance data.table backend with C++ row binding for efficient processing of large datasets. Ideal for matching misspellings, inconsistent labels, messy user input, or reconciling datasets with slight variations in identifiers. Optionally returns distance metrics alongside matched records.">
<meta property="og:description" content="Perform fuzzy joins on data frames using approximate string matching. Implements all standard join types (inner, left, right, full, semi, anti) with support for multiple string distance metrics from the stringdist package including Levenshtein, Damerau-Levenshtein, Jaro-Winkler, and Soundex. Features a high-performance data.table backend with C++ row binding for efficient processing of large datasets. Ideal for matching misspellings, inconsistent labels, messy user input, or reconciling datasets with slight variations in identifiers. Optionally returns distance metrics alongside matched records.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">fuzzystring</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/PaulESantos/fuzzystring/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="fuzzystring">fuzzystring<a class="anchor" aria-label="anchor" href="#fuzzystring"></a>
</h1></div>
<!-- badges: start -->

<p><strong>fuzzystring</strong> provides fast, flexible fuzzy string joins for data frames using approximate string matching. Built on top of <code>data.table</code> and <code>stringdist</code>, it’s designed for efficiently merging datasets where exact matches aren’t possible due to misspellings, inconsistent formatting, or slight variations in text.</p>
<div class="section level2">
<h2 id="why-fuzzystring">Why fuzzystring?<a class="anchor" aria-label="anchor" href="#why-fuzzystring"></a>
</h2>
<p>Real-world data is messy. You might need to:</p>
<ul>
<li>Match company names that are spelled slightly differently across datasets</li>
<li>Join customer records with typos or abbreviations</li>
<li>Reconcile product catalogs with inconsistent naming</li>
<li>Link survey responses to predefined categories despite spelling errors</li>
<li>Merge datasets where identifiers have been transcribed with errors</li>
</ul>
<p><strong>fuzzystring</strong> makes these tasks straightforward with:</p>
<ul>
<li>
<strong>All standard join types</strong>: inner, left, right, full, semi, and anti joins</li>
<li>
<strong>Multiple distance metrics</strong>: Levenshtein, Damerau-Levenshtein, Jaro-Winkler, Soundex, and more</li>
<li>
<strong>High performance</strong>: C++ row binding and <code>data.table</code> backend for speed</li>
<li>
<strong>Optional distance column</strong>: Track how close matches are</li>
<li>
<strong>Flexible matching</strong>: Case-insensitive options and customizable distance thresholds</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Development version from GitHub</span></span>
<span><span class="co"># Using pak (recommended)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"PaulESantos/fuzzystring"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or using remotes</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"PaulESantos/fuzzystring"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>Here’s a simple example matching diamond cuts with slight misspellings:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/PaulESantos/fuzzystring" class="external-link">fuzzystring</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Your messy data</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Idea"</span>, <span class="st">"Premiom"</span>, <span class="st">"Very Good"</span><span class="op">)</span>, </span>
<span>  id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reference data</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  approx_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ideal"</span>, <span class="st">"Premium"</span>, <span class="st">"VeryGood"</span><span class="op">)</span>, </span>
<span>  grp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fuzzy join with max distance of 2 edits</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>, <span class="va">y</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>,</span>
<span>  max_dist <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  distance_col <span class="op">=</span> <span class="st">"distance"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;      name id approx_name grp distance</span></span>
<span><span class="co">#&gt; 1:   Idea  1       Ideal   A        1</span></span>
<span><span class="co">#&gt; 2: Premiom  2     Premium   B        2</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="key-features">Key features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h2>
<div class="section level3">
<h3 id="all-join-types-supported">All join types supported<a class="anchor" aria-label="anchor" href="#all-join-types-supported"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inner join - only matching rows</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, max_dist <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Left join - all rows from x, matching rows from y</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_left_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, max_dist <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Right join - all rows from y, matching rows from x</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_right_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, max_dist <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Full join - all rows from both tables</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_full_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, max_dist <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Semi join - rows from x that have a match in y</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_semi_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, max_dist <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Anti join - rows from x that don't have a match in y</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_anti_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, max_dist <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-distance-methods">Multiple distance methods<a class="anchor" aria-label="anchor" href="#multiple-distance-methods"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Optimal String Alignment (default)</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"osa"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Damerau-Levenshtein</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"dl"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Jaro-Winkler (good for names)</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"jw"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Soundex (phonetic matching)</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"soundex"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="case-insensitive-matching">Case-insensitive matching<a class="anchor" aria-label="anchor" href="#case-insensitive-matching"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>, <span class="va">y</span>, </span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>,</span>
<span>  ignore_case <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  max_dist <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="extended-example-correcting-misspellings">Extended example: Correcting misspellings<a class="anchor" aria-label="anchor" href="#extended-example-correcting-misspellings"></a>
</h2>
<p>A common use case is matching misspelled words against a dictionary. The package includes a dataset of 4,500+ common misspellings from Wikipedia.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──</span></span>
<span><span class="co">#&gt; ✔ dplyr     1.1.4     ✔ readr     2.1.6</span></span>
<span><span class="co">#&gt; ✔ forcats   1.0.1     ✔ stringr   1.6.0</span></span>
<span><span class="co">#&gt; ✔ ggplot2   4.0.1     ✔ tibble    3.3.1</span></span>
<span><span class="co">#&gt; ✔ lubridate 1.9.4     ✔ tidyr     1.3.2</span></span>
<span><span class="co">#&gt; ✔ purrr     1.2.1     </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span><span class="co">#&gt; ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/PaulESantos/fuzzystring" class="external-link">fuzzystring</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load misspellings dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">misspellings</span><span class="op">)</span></span>
<span><span class="va">misspellings</span></span>
<span><span class="co">#&gt; # A tibble: 4,505 × 2</span></span>
<span><span class="co">#&gt;    misspelling correct   </span></span>
<span><span class="co">#&gt;    &lt;chr&gt;       &lt;chr&gt;     </span></span>
<span><span class="co">#&gt;  1 abandonned  abandoned </span></span>
<span><span class="co">#&gt;  2 aberation   aberration</span></span>
<span><span class="co">#&gt;  3 abilties    abilities </span></span>
<span><span class="co">#&gt;  4 abilty      ability   </span></span>
<span><span class="co">#&gt;  5 abondon     abandon   </span></span>
<span><span class="co">#&gt;  6 abbout      about     </span></span>
<span><span class="co">#&gt;  7 abotu       about     </span></span>
<span><span class="co">#&gt;  8 abouta      about a   </span></span>
<span><span class="co">#&gt;  9 aboutit     about it  </span></span>
<span><span class="co">#&gt; 10 aboutthe    about the </span></span>
<span><span class="co">#&gt; # ℹ 4,495 more rows</span></span></code></pre></div>
<p>Let’s match these against a real dictionary:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Dictionary from qdapDictionaries package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://trinker.github.com/qdapDictionaries/" class="external-link">qdapDictionaries</a></span><span class="op">)</span></span>
<span><span class="va">words</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="va">DICTIONARY</span><span class="op">)</span></span>
<span><span class="va">words</span></span>
<span><span class="co">#&gt; # A tibble: 20,137 × 2</span></span>
<span><span class="co">#&gt;    word  syllables</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 hm            1</span></span>
<span><span class="co">#&gt;  2 hmm           1</span></span>
<span><span class="co">#&gt;  3 hmmm          1</span></span>
<span><span class="co">#&gt;  4 hmph          1</span></span>
<span><span class="co">#&gt;  5 mmhmm         2</span></span>
<span><span class="co">#&gt;  6 mmhm          2</span></span>
<span><span class="co">#&gt;  7 mm            1</span></span>
<span><span class="co">#&gt;  8 mmm           1</span></span>
<span><span class="co">#&gt;  9 mmmm          1</span></span>
<span><span class="co">#&gt; 10 pff           1</span></span>
<span><span class="co">#&gt; # ℹ 20,127 more rows</span></span></code></pre></div>
<p>Sample 1,000 misspellings and find their matches:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2016</span><span class="op">)</span></span>
<span><span class="va">sub_misspellings</span> <span class="op">&lt;-</span> <span class="va">misspellings</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">sample_n</span><span class="op">(</span><span class="fl">1000</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Fuzzy join with max distance of 1</span></span>
<span><span class="va">joined</span> <span class="op">&lt;-</span> <span class="va">sub_misspellings</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span></span>
<span>    <span class="va">words</span>, </span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>misspelling <span class="op">=</span> <span class="st">"word"</span><span class="op">)</span>, </span>
<span>    max_dist <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">joined</span></span>
<span><span class="co">#&gt;      misspelling    correct       word syllables</span></span>
<span><span class="co">#&gt;           &lt;char&gt;     &lt;char&gt;     &lt;char&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:   cyclinder   cylinder   cylinder         3</span></span>
<span><span class="co">#&gt;   2: beastiality bestiality bestiality         5</span></span>
<span><span class="co">#&gt;   3:    affilate  affiliate  affiliate         4</span></span>
<span><span class="co">#&gt;   4:     supress   suppress   suppress         2</span></span>
<span><span class="co">#&gt;   5:    intevene  intervene  intervene         3</span></span>
<span><span class="co">#&gt;  ---                                            </span></span>
<span><span class="co">#&gt; 756:        fiel      field       file         1</span></span>
<span><span class="co">#&gt; 757:        fiel      field       fill         1</span></span>
<span><span class="co">#&gt; 758:        fiel      field       fuel         2</span></span>
<span><span class="co">#&gt; 759:        fiel      field       riel         2</span></span>
<span><span class="co">#&gt; 760:    aparment  apartment  apartment         3</span></span></code></pre></div>
<div class="section level3">
<h3 id="analyzing-match-quality">Analyzing match quality<a class="anchor" aria-label="anchor" href="#analyzing-match-quality"></a>
</h3>
<p>Check how many misspellings we successfully matched:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Count unique misspellings matched</span></span>
<span><span class="va">joined</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">misspelling</span>, <span class="va">correct</span><span class="op">)</span></span>
<span><span class="co">#&gt;      misspelling    correct     n</span></span>
<span><span class="co">#&gt;           &lt;char&gt;     &lt;char&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;   1:      abilty    ability     1</span></span>
<span><span class="co">#&gt;   2:   accademic   academic     1</span></span>
<span><span class="co">#&gt;   3:    accademy    academy     1</span></span>
<span><span class="co">#&gt;   4:   accension  accession     2</span></span>
<span><span class="co">#&gt;   5:  acceptence acceptance     1</span></span>
<span><span class="co">#&gt;  ---                             </span></span>
<span><span class="co">#&gt; 458:        wnat       want     3</span></span>
<span><span class="co">#&gt; 459:  wonderfull  wonderful     1</span></span>
<span><span class="co">#&gt; 460:       wroet      wrote     1</span></span>
<span><span class="co">#&gt; 461:     wupport    support     1</span></span>
<span><span class="co">#&gt; 462:      zeebra      zebra     1</span></span>
<span></span>
<span><span class="co"># Calculate accuracy</span></span>
<span><span class="va">which_correct</span> <span class="op">&lt;-</span> <span class="va">joined</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">misspelling</span>, <span class="va">correct</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span></span>
<span>    guesses <span class="op">=</span> <span class="fu">n</span><span class="op">(</span><span class="op">)</span>, </span>
<span>    one_correct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="va">correct</span> <span class="op">==</span> <span class="va">word</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Percentage getting at least one correct guess</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">which_correct</span><span class="op">$</span><span class="va">one_correct</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.8246753</span></span>
<span></span>
<span><span class="co"># Number with exactly one correct match</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">which_correct</span><span class="op">$</span><span class="va">guesses</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">which_correct</span><span class="op">$</span><span class="va">one_correct</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 290</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="including-distance-metrics">Including distance metrics<a class="anchor" aria-label="anchor" href="#including-distance-metrics"></a>
</h3>
<p>Add a distance column to see how far apart the matches are:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">joined_dists</span> <span class="op">&lt;-</span> <span class="va">sub_misspellings</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span></span>
<span>    <span class="va">words</span>, </span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>misspelling <span class="op">=</span> <span class="st">"word"</span><span class="op">)</span>, </span>
<span>    max_dist <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    distance_col <span class="op">=</span> <span class="st">"distance"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Find the closest match for each misspelling</span></span>
<span><span class="va">closest</span> <span class="op">&lt;-</span> <span class="va">joined_dists</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">misspelling</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">top_n</span><span class="op">(</span><span class="fl">1</span>, <span class="fu">desc</span><span class="op">(</span><span class="va">distance</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Distribution of distances</span></span>
<span><span class="va">closest</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">distance</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;   distance     n</span></span>
<span><span class="co">#&gt;      &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1        0     3</span></span>
<span><span class="co">#&gt; 2        1   739</span></span>
<span><span class="co">#&gt; 3        2   594</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-different-join-types">Using different join types<a class="anchor" aria-label="anchor" href="#using-different-join-types"></a>
</h3>
<p><strong>Left join</strong> to keep unmatched words:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">left_joined</span> <span class="op">&lt;-</span> <span class="va">sub_misspellings</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_left_join</a></span><span class="op">(</span></span>
<span>    <span class="va">words</span>, </span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>misspelling <span class="op">=</span> <span class="st">"word"</span><span class="op">)</span>, </span>
<span>    max_dist <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Show words we couldn't match</span></span>
<span><span class="va">left_joined</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">word</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        misspelling       correct   word syllables</span></span>
<span><span class="co">#&gt;             &lt;char&gt;        &lt;char&gt; &lt;char&gt;     &lt;num&gt;</span></span>
<span><span class="co">#&gt;   1:     Sanhedrim     Sanhedrin   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt;   2: consicousness consciousness   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt;   3:    repubicans   republicans   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt;   4:      comitted     committed   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt;   5:     emmisions     emissions   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt;  ---                                             </span></span>
<span><span class="co">#&gt; 534:   accquainted    acquainted   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt; 535:   ubiquitious    ubiquitous   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt; 536:       Januray       January   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt; 537:   aggaravates    aggravates   &lt;NA&gt;        NA</span></span>
<span><span class="co">#&gt; 538:       wayword       wayward   &lt;NA&gt;        NA</span></span></code></pre></div>
<p><strong>Anti join</strong> to find only unmatched words:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">unmatched</span> <span class="op">&lt;-</span> <span class="va">sub_misspellings</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_anti_join</a></span><span class="op">(</span></span>
<span>    <span class="va">words</span>, </span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>misspelling <span class="op">=</span> <span class="st">"word"</span><span class="op">)</span>, </span>
<span>    max_dist <span class="op">=</span> <span class="fl">1</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">unmatched</span></span>
<span><span class="co">#&gt;        misspelling       correct</span></span>
<span><span class="co">#&gt;             &lt;char&gt;        &lt;char&gt;</span></span>
<span><span class="co">#&gt;   1:     Sanhedrim     Sanhedrin</span></span>
<span><span class="co">#&gt;   2: consicousness consciousness</span></span>
<span><span class="co">#&gt;   3:    repubicans   republicans</span></span>
<span><span class="co">#&gt;   4:      comitted     committed</span></span>
<span><span class="co">#&gt;   5:     emmisions     emissions</span></span>
<span><span class="co">#&gt;  ---                            </span></span>
<span><span class="co">#&gt; 534:   accquainted    acquainted</span></span>
<span><span class="co">#&gt; 535:   ubiquitious    ubiquitous</span></span>
<span><span class="co">#&gt; 536:       Januray       January</span></span>
<span><span class="co">#&gt; 537:   aggaravates    aggravates</span></span>
<span><span class="co">#&gt; 538:       wayword       wayward</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a>
</h2>
<p><strong>fuzzystring</strong> uses a C++ implementation for row binding combined with a <code>data.table</code> backend for fast performance on large datasets. The package is optimized for:</p>
<ul>
<li>Efficient string distance calculations with prefiltering for Levenshtein-like metrics</li>
<li>Memory-efficient joins using data.table’s reference semantics</li>
<li>Type-safe column operations preserving factors, dates, and other attributes</li>
</ul>
</div>
<div class="section level2">
<h2 id="advanced-usage">Advanced usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h2>
<div class="section level3">
<h3 id="multiple-column-joins">Multiple column joins<a class="anchor" aria-label="anchor" href="#multiple-column-joins"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Match on both string similarity and numeric proximity</span></span>
<span><span class="fu"><a href="reference/fuzzystring_join.html">fuzzystring_inner_join</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>, <span class="va">y</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span>, value <span class="op">=</span> <span class="st">"approx_value"</span><span class="op">)</span>,</span>
<span>  match_fun <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu">stringdist</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringdist/man/stringdist.html" class="external-link">stringdist</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fl">1</span>,</span>
<span>    value <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">x</span> <span class="op">-</span> <span class="va">y</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">0.5</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom-distance-functions">Custom distance functions<a class="anchor" aria-label="anchor" href="#custom-distance-functions"></a>
</h3>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use custom matching logic</span></span>
<span><span class="fu"><a href="reference/fstring_inner_join.html">fstring_inner_join</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>, <span class="va">y</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"approx_name"</span><span class="op">)</span>,</span>
<span>  match_fun <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Your custom matching logic</span></span>
<span>    <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">your_distance_function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span>    <span class="va">result</span> <span class="op">&lt;=</span> <span class="va">threshold</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="related-packages">Related packages<a class="anchor" aria-label="anchor" href="#related-packages"></a>
</h2>
<ul>
<li>
<strong><a href="https://github.com/dgrtwo/fuzzyjoin" class="external-link">fuzzyjoin</a></strong>: Original fuzzy join implementation (dplyr-based)</li>
<li>
<strong><a href="https://github.com/markvanderloo/stringdist" class="external-link">stringdist</a></strong>: String distance metrics</li>
<li>
<strong><a href="https://rdatatable.gitlab.io/data.table/" class="external-link">data.table</a></strong>: High-performance data manipulation</li>
</ul>
<p><strong>fuzzystring</strong> builds on these great packages to provide a fast, data.table-native implementation with C++ optimization.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/PaulESantos/fuzzystring/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/PaulESantos/fuzzystring/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
<li><a href="SUPPORT.html">Getting help</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing fuzzystring</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Paul E. Santos Andrade <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6635-0375" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=fuzzystring" class="external-link"><img src="https://www.r-pkg.org/badges/version/fuzzystring" alt="CRAN status"></a></li>
<li><a href="https://github.com/PaulESantos/fuzzystring/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/PaulESantos/fuzzystring/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/PaulESantos/fuzzystring" class="external-link"><img src="https://codecov.io/gh/PaulESantos/fuzzystring/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Paul E. Santos Andrade.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
